import{Z as m,r as h,z as d,p as f,y as v}from"./index-6mAGNGOI.js";import{u as B}from"./useToast-p4sfD7q1.js";const{showAlert:n}=v(),{toastAlert:o}=B(),x=m("wishStore",()=>{const t=h([]),r=()=>{const e=localStorage.getItem("wishList");e&&(t.value=JSON.parse(e))},l=e=>{if(t.value.findIndex(s=>s.id===e.id)!==-1)t.value=t.value.filter(s=>s.id!==e.id),o({message:"🌠 已移除商品追蹤"});else{const s={id:e.id,title:e.title,content:e.content,origin_price:e.origin_price,price:e.price,imageUrl:e.imageUrl,unit:e.unit,description:e.description};t.value.push(s),o({message:"⭐已新增商品追蹤"})}},a=e=>t.value.some(i=>i.id===e.id),u=e=>{n({title:"移除此商品追蹤?",text:"確認後此追蹤項目將會被移除",icon:"question",confirmButtonColor:"#111c30",cancelButtonColor:"#b2bec3",confirmButtonText:"確認",cancelButtonText:"取消",showCancelButton:!0,showCloseButton:!0,reverseButtons:!0}).then(i=>{i.isConfirmed&&(t.value=t.value.filter(s=>s.id!==e.id),o({message:"🌠 已移除商品追蹤"}))})},c=()=>{n({title:"移除所有追蹤項目?",text:"確認後所有追蹤項目將會移除",icon:"question",confirmButtonColor:"#111c30",cancelButtonColor:"#b2bec3",confirmButtonText:"確認",cancelButtonText:"取消",showCancelButton:!0,showCloseButton:!0,reverseButtons:!0}).then(e=>{e.isConfirmed&&(t.value=[],o({message:"🌌 已移除所有商品追蹤"}))})};return d(()=>t.value,()=>{localStorage.setItem("wishList",JSON.stringify(t.value))},{deep:!0}),f(()=>{r()}),{wishlist:t,addWishList:l,isWishListed:a,removeWishItem:u,removeAllWishlist:c}});export{x as u};
