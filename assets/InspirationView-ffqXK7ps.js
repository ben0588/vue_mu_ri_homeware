import{V as x}from"./index-OBJK2ZBa.js";import{r as i,p as A,c as a,b as t,F as r,f as p,e as _,l as g,u as V,z as $,o as s,t as n,g as B,A as C,a as L}from"./index-OZ5cqwnL.js";import{_ as N}from"./PaginationComponent-Bgjm-W3Y.js";const S={key:0,class:"container py-32"},z=t("h2",null,"空間佈置靈感",-1),D={class:"mt-3 mb-4"},E={type:"button",class:"btn btn-outline-secondary text-dark fs-6 me-3"},F={class:"row row-cols-1 row-cols-md-2 row-cols-lg-3 mt-32 gy-3"},P=["src","alt"],U={class:"mt-2 mb-4 fs-4"},I={class:"mb-1"},K={class:"ms-1"},M={type:"button",class:"btn btn-secondary btn-sm text-dark py-0 me-1",style:{fontSize:"14px"}},O={key:0,class:"mt-5"},H={__name:"InspirationView",setup(T){const{showAlert:f}=C(),l=i(!1),u=i([]),m=i([]),y="https://vue3-course-api.hexschool.io",b="vue-ben0588",k=i([{title:"顯示全部"},{title:"客廳"},{title:"臥室"},{title:"廚房"},{title:"書房"},{title:"浴室"}]),h=async(v=1)=>{try{l.value=!0;const c=`${y}/v2/api/${b}/articles?page=${v}`,o=await $.get(c);console.log(o.data.articles),u.value=o.data.articles,m.value=o.data.pagination}catch(c){f({title:"失敗",text:`${c.response.data.message}`,icon:"error",confirmButtonText:"確認",confirmButtonColor:"#000000",allowEscapeKey:!1,allowOutsideClick:!1})}finally{l.value=!1}};return A(()=>{h()}),(v,c)=>{const o=L("router-link");return s(),a(r,null,[l.value?g("",!0):(s(),a("div",S,[z,t("div",D,[(s(!0),a(r,null,p(k.value,(e,d)=>(s(),a("span",{key:d},[t("button",E,n(e.title),1)]))),128))]),t("div",F,[(s(!0),a(r,null,p(u.value,e=>(s(),a("div",{class:"col",key:e.id},[t("div",null,[_(o,{to:`/inspiration/${e.id}`,class:"hover-opacity text-dark"},{default:B(()=>[t("img",{src:e.image,alt:e.title,class:"inspiration-card-img"},null,8,P),t("h3",U,n(e.title),1),t("div",I,[t("span",null,n(new Date(e.create_at*1e3).toLocaleString(void 0,{year:"numeric",month:"long",day:"numeric"})),1),t("span",K,"#"+n(e.author),1)])]),_:2},1032,["to"]),(s(!0),a(r,null,p(e.tag,(d,w)=>(s(),a("span",{key:w,class:"me-2"},[t("button",M,n(d),1)]))),128))])]))),128))]),u.value.length?(s(),a("div",O,[_(N,{pagination:m.value,"onUpdated:page":h},null,8,["pagination"])])):g("",!0)])),_(V(x),{active:l.value,"can-cancel":!1,color:"#0089A7"},null,8,["active"])],64)}}};export{H as default};
