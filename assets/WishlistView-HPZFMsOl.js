import{c as o,u as s,l as k,b as t,F as C,f as y,e as l,d as c,g as d,n as m,a as x,o as n,t as u,w as B}from"./index-hk-oIEoh.js";import{u as g}from"./usePriceToTw-mhH8eMrj.js";import{u as S}from"./wishStores-aKYn2Ple.js";import{u as A}from"./cartStores-MOzc4y1w.js";import"./useToast-5eOPby-D.js";const W={key:0},q={key:0,class:"fw-bolder fs-4 mb-4"},F={class:"table-responsive"},J={class:"table align-middle"},O=t("td",{class:"text-start",colspan:"2"},"追蹤商品資訊",-1),T=t("td",null,null,-1),V=t("td",null,null,-1),I=t("td",null,null,-1),z={class:"text-center",colspan:"2"},K=["src","alt"],j={class:"text-decoration-line-through text-muted"},E={class:"fw-bolder"},N={class:"text-center"},D={class:"text-center"},R=["onClick","disabled"],U={key:0},Y=t("span",{class:"spinner-border spinner-border-sm",role:"status"},[t("span",{class:"visually-hidden"},"新增購物車中")],-1),Z={key:1},G={class:"text-center"},H=["onClick"],L={key:1,class:"flex-center flex-column"},P={class:"fs-4"},$=t("div",null,[t("img",{src:"https://storage.googleapis.com/vue-course-api.appspot.com/ben0588/1709362628868.png?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=h5XkhkexYnztCWjUC4P%2Bq2GcYACqx4RCgfPeAjKqqb4Xe%2BnBJJEVCz7v4TAcyYy%2BJSBlvRWWbk6qxveKZY9sJNVinlFg7WSBqssHpt4G5A0ZcrLlLc%2BRwg3dROKNkrAJNwKZs5QOcMO3mqU3W1qKSwCO3t6jLsAxgJxrdKhttiIoE%2F6n%2FpRzljAED%2BfI7KacbrUSSPVAdbllRxKbVcZ7rjcOzSqA2McBCotwTXYpuvCwOF91bHHZr7w5CJP63Z62CO8GUmQTJWXLxmaFWJJkOA429IC22Ts8%2FOCWGm%2BdH%2Fb4VQgC4kDgEE%2BU7sz0ODgHbwaT8kjq45vAIJOC3%2FY4ww%3D%3D",alt:"暫無任何追蹤商品",style:{width:"200px",height:"200px"}})],-1),X={class:"mt-4 w-100 text-center"},nt={__name:"WishlistView",props:{titleShow:{type:Boolean,default:!0}},setup(_){const a=A(),{addCart:w}=a,i=S(),{removeWishItem:v,removeAllWishlist:h}=i;return(M,p)=>{const r=x("router-link"),b=x("font-awesome-icon");return n(),o("div",{class:m(["container",`${_.titleShow?"py-32":"py-0"}`])},[s(i).wishlist.length?(n(),o("div",W,[_.titleShow?(n(),o("h2",q,"願望清單列表")):k("",!0),t("div",F,[t("table",J,[t("thead",null,[t("tr",null,[O,T,V,I,t("td",z,[t("button",{type:"button",class:"btn btn-outline-danger",onClick:p[0]||(p[0]=(...e)=>s(h)&&s(h)(...e))}," 移除所有項目 ")])])]),t("tbody",null,[(n(!0),o(C,null,y(s(i).wishlist,e=>(n(),o("tr",{key:e.id},[t("td",null,[l(r,{to:`products/${e.id}`,title:"查看商品詳情",class:"image-hover"},{default:d(()=>[t("img",{src:e.imageUrl,alt:e.title,style:{width:"70px",height:"70px",objectFit:"cover"},class:"border border-dark"},null,8,K)]),_:2},1032,["to"])]),t("td",null,[t("div",null,u(e.title),1)]),t("td",null,[t("div",j,u(s(g)(e.origin_price)),1),t("div",null,[t("span",E,u(s(g)(e.price)),1)])]),t("td",N,[l(r,{to:`/products/${e.id}`,class:"link-dark text-decoration-underline image-hover text-primary"},{default:d(()=>[c("查看商品詳情")]),_:2},1032,["to"])]),t("td",D,[t("button",{type:"button",class:m(["btn btn-primary text-white w-100 px-1",{"cursor-not-allowed":s(a).addTargetId===e.id}]),title:"加入購物車",onClick:f=>s(w)({id:e.id,quantity:1}),disabled:s(a).addTargetId===e.id},[s(a).addTargetId===e.id?(n(),o("span",U,[Y,c(" 新增購物車中")])):(n(),o("span",Z," 加入購物車 "))],10,R)]),t("td",G,[t("button",{onClick:B(f=>s(v)(e),["prevent"]),type:"button",class:"btn btn-none mx-auto"},[l(b,{icon:["far","trash-can"],title:"移除追蹤",class:"fs-4"})],8,H)])]))),128))])])])])):(n(),o("div",L,[t("p",P,[l(b,{icon:["fas","circle-exclamation"],class:"text-danger me-2"}),c("目前並無任何追蹤商品 ")]),$,t("div",X,[l(r,{to:"/products",class:"btn btn-dark px-64"},{default:d(()=>[c("前去逛逛")]),_:1})])]))],2)}}};export{nt as default};
