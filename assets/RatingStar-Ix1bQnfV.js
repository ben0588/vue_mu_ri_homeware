import{q as i,o as r,c as l,F as g,f as S,e as m,n as f,l as v,a as y}from"./index-MtqUft-E.js";function p(a){let e=0,t=0;for(let n=1;n<=5;n+=1){const{count:o}=a[`star_${n}`];e+=n*o,t+=o}const s=t>0?(e/t).toFixed(1):0;return{averageRating:parseFloat(s),totalRatings:t}}function R(a){const e=Math.floor(a),t=a%1>=.5,s=5-e-(t?1:0);return{fullStars:e,halfStar:t,emptyStars:s}}function z(a){return a.map(e=>{const{averageRating:t,totalRatings:s}=p(e.ratings),n=R(t);return{...e,averageRating:t,totalRatings:s,starSymbols:n}})}const d={key:0,class:"me-2"},b={__name:"RatingStar",props:{averageRating:{type:Number,required:!1},totalRatings:{type:Number,required:!1},classSize:{type:String,default:"star-icon"},color:{type:String,default:"text-primary"}},setup(a){const e=a,t=i(()=>Math.floor(e.averageRating)),s=i(()=>e.averageRating%1>=.5),n=i(()=>5-t.value-(s.value?1:0));return(o,h)=>{const c=y("font-awesome-icon");return r(),l("span",null,[(r(!0),l(g,null,S(t.value,u=>(r(),l("span",{key:u,class:"me-2"},[m(c,{icon:["fas","star"],class:f([a.classSize,a.color])},null,8,["class"])]))),128)),s.value?(r(),l("span",d,[m(c,{icon:["fas","star-half-stroke"],class:f([a.classSize,a.color])},null,8,["class"])])):v("",!0),(r(!0),l(g,null,S(n.value,u=>(r(),l("span",{key:u,class:"me-2"},[m(c,{icon:["far","star"],class:f([a.classSize,a.color])},null,8,["class"])]))),128))])}}};export{b as _,z as c};
