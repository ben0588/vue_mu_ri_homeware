import{c as o,u as e,l as k,b as t,F as C,f as y,e as a,g as d,n as b,a as m,o as n,t as l,d as u,w as B}from"./index-r1h2fncR.js";import{u as g}from"./usePriceToTw-mhH8eMrj.js";import{u as S}from"./useComputedDiscount-Lk7onZys.js";import{u as A}from"./wishStores-Gr-NQcf4.js";import{u as W}from"./cartStores-sX_xgH1r.js";import"./useToast-l1HPxIPq.js";const q={key:0},F={key:0,class:"fw-bolder fs-4 mb-4"},J={class:"table-responsive"},O={class:"table align-middle"},T=t("th",{class:"text-start",colspan:"2"},"追蹤商品資訊",-1),V=t("th",null,null,-1),I=t("th",null,null,-1),z=t("th",null,null,-1),K={class:"text-center",colspan:"2"},j=["src","alt"],D={class:"text-decoration-line-through text-muted"},E={class:"fw-bolder"},N={class:"text-danger fw-700"},R={class:"text-center"},U={class:"text-center"},Y=["onClick","disabled"],Z={key:0},G=t("span",{class:"spinner-border spinner-border-sm",role:"status"},[t("span",{class:"visually-hidden"},"新增購物車中")],-1),H={key:1},L={class:"text-center"},P=["onClick"],$={key:1,class:"flex-center flex-column"},X=t("p",{class:"fs-4"},"目前並無任何追蹤商品",-1),M=t("div",null,[t("img",{src:"https://storage.googleapis.com/vue-course-api.appspot.com/ben0588/1709362628868.png?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=h5XkhkexYnztCWjUC4P%2Bq2GcYACqx4RCgfPeAjKqqb4Xe%2BnBJJEVCz7v4TAcyYy%2BJSBlvRWWbk6qxveKZY9sJNVinlFg7WSBqssHpt4G5A0ZcrLlLc%2BRwg3dROKNkrAJNwKZs5QOcMO3mqU3W1qKSwCO3t6jLsAxgJxrdKhttiIoE%2F6n%2FpRzljAED%2BfI7KacbrUSSPVAdbllRxKbVcZ7rjcOzSqA2McBCotwTXYpuvCwOF91bHHZr7w5CJP63Z62CO8GUmQTJWXLxmaFWJJkOA429IC22Ts8%2FOCWGm%2BdH%2Fb4VQgC4kDgEE%2BU7sz0ODgHbwaT8kjq45vAIJOC3%2FY4ww%3D%3D",alt:"暫無任何追蹤商品"})],-1),Q={class:"mt-4"},at={__name:"WishlistView",props:{titleShow:{type:Boolean,default:!0}},setup(_){const i=W(),{addCart:v}=i,c=A(),{removeWishItem:w,removeAllWishlist:h}=c;return(tt,p)=>{const r=m("router-link"),x=m("font-awesome-icon");return n(),o("div",{class:b(["container",`${_.titleShow?"py-32":"py-0"}`])},[e(c).wishlist.length?(n(),o("div",q,[_.titleShow?(n(),o("h2",F,"願望清單列表")):k("",!0),t("div",J,[t("table",O,[t("thead",null,[t("tr",null,[T,V,I,z,t("th",K,[t("button",{type:"button",class:"btn btn-none",onClick:p[0]||(p[0]=(...s)=>e(h)&&e(h)(...s))}," 移除所有項目 ")])])]),t("tbody",null,[(n(!0),o(C,null,y(e(c).wishlist,s=>(n(),o("tr",{key:s.id},[t("td",null,[a(r,{to:`products/${s.id}`,title:"查看商品詳情",class:"image-hover"},{default:d(()=>[t("img",{src:s.imageUrl,alt:s.title,style:{width:"70px",height:"70px",objectFit:"cover"},class:"border border-dark"},null,8,j)]),_:2},1032,["to"])]),t("td",null,[t("div",null,[t("div",null,l(s.title),1),t("div",null,l(s.description),1),t("div",null,"單位："+l(s.unit),1)])]),t("td",null,[t("div",D,l(e(g)(s.origin_price)),1),t("div",E,l(e(g)(s.price)),1),t("div",N," 折扣 "+l(e(S)(s.origin_price,s.price)),1)]),t("td",R,[a(r,{to:`/products/${s.id}`,class:"link-dark text-decoration-underline image-hover"},{default:d(()=>[u("查看商品詳情")]),_:2},1032,["to"])]),t("td",U,[t("button",{type:"button",class:b(["btn btn-primary text-white w-100 px-1",{"cursor-not-allowed":e(i).addTargetId===s.id}]),title:"加入購物車",onClick:f=>e(v)({id:s.id,quantity:1}),disabled:e(i).addTargetId===s.id},[e(i).addTargetId===s.id?(n(),o("span",Z,[G,u(" 新增購物車中")])):(n(),o("span",H," 加入購物車 "))],10,Y)]),t("td",L,[t("button",{onClick:B(f=>e(w)(s),["prevent"]),type:"button",class:"btn btn-none mx-auto"},[a(x,{icon:["far","trash-can"],title:"移除追蹤",class:"fs-4"})],8,P)])]))),128))])])])])):(n(),o("div",$,[X,M,t("div",Q,[a(r,{to:"/products",class:"btn btn-dark px-4"},{default:d(()=>[u("前去逛逛")]),_:1})])]))],2)}}};export{at as default};
