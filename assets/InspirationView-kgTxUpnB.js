import{V as L}from"./index-F48-yrMz.js";import{r as l,q as V,p as A,c as a,b as e,F as p,f as m,e as v,l as y,u as B,x as S,o as s,n as N,t as i,g as z,y as D,a as E}from"./index-r1h2fncR.js";import{_ as F}from"./PaginationComponent-uj7KdsxP.js";const P={key:0,class:"container py-32"},T=e("h2",null,"空間佈置靈感",-1),U={class:"mt-3 mb-4"},q=["onClick"],I={class:"row row-cols-1 row-cols-md-2 row-cols-lg-3 mt-32 gy-3"},K=["src","alt"],M={class:"mt-2 mb-4 fs-4"},O={class:"mb-1"},j={class:"ms-1"},G={type:"button",class:"btn btn-secondary btn-sm text-dark py-0 me-1",style:{fontSize:"14px"}},H={key:0,class:"mt-5"},X={__name:"InspirationView",setup(J){const{showAlert:b}=D(),c=l(!1),r=l([]),g=l([]),u=l("顯示全部"),k="https://vue3-course-api.hexschool.io",x="vue-ben0588",w=l([{title:"顯示全部"},{title:"客廳"},{title:"臥室"},{title:"廚房"},{title:"書房"},{title:"浴室"}]),f=async(o=1)=>{try{c.value=!0;const n=`${k}/v2/api/${x}/articles?page=${o}`,d=await S.get(n);r.value=d.data.articles,g.value=d.data.pagination}catch(n){b({title:"失敗",text:`${n.response.data.message}`,icon:"error",confirmButtonText:"確認",confirmButtonColor:"#000000",allowEscapeKey:!1,allowOutsideClick:!1})}finally{c.value=!1}},C=o=>{u.value=o},$=V(()=>u.value==="顯示全部"?r.value:r.value.filter(o=>o.tag.find(n=>n===u.value)));return A(()=>{f()}),(o,n)=>{const d=E("router-link");return s(),a(p,null,[c.value?y("",!0):(s(),a("div",P,[T,e("div",U,[(s(!0),a(p,null,m(w.value,(t,_)=>(s(),a("span",{key:_,onClick:h=>C(t.title)},[e("button",{type:"button",class:N(["btn btn-outline-secondary text-dark fs-6 me-3",`${u.value===t.title&&"bg-secondary"}`])},i(t.title),3)],8,q))),128))]),e("div",I,[(s(!0),a(p,null,m($.value,t=>(s(),a("div",{class:"col",key:t.id},[e("div",null,[v(d,{to:`/inspiration/${t.id}`,class:"hover-opacity text-dark"},{default:z(()=>[e("img",{src:t.image,alt:t.title,class:"inspiration-card-img"},null,8,K),e("h3",M,i(t.title),1),e("div",O,[e("span",null,i(new Date(t.create_at*1e3).toLocaleString(void 0,{year:"numeric",month:"long",day:"numeric"})),1),e("span",j,"#"+i(t.author),1)])]),_:2},1032,["to"]),(s(!0),a(p,null,m(t.tag,(_,h)=>(s(),a("span",{key:h,class:"me-2"},[e("button",G,i(_),1)]))),128))])]))),128))]),r.value.length?(s(),a("div",H,[v(F,{pagination:g.value,"onUpdated:page":f},null,8,["pagination"])])):y("",!0)])),v(B(L),{active:c.value,"can-cancel":!1,color:"#0089A7"},null,8,["active"])],64)}}};export{X as default};
