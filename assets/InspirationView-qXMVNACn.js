import{V as L}from"./index-ZTDfC1zn.js";import{r as l,q as V,p as A,c as a,b as e,F as p,f as m,e as v,l as y,u as B,x as N,o as s,n as S,t as i,g as D,y as E,a as F}from"./index-6mAGNGOI.js";import{_ as P}from"./PaginationComponent-qK48Xtqp.js";const T={key:0,class:"container py-32"},U=e("h2",null,"空間佈置靈感",-1),q={class:"mt-3 mb-4"},z=["onClick"],I={class:"row row-cols-1 row-cols-md-2 row-cols-lg-3"},K=["src","alt"],M={class:"mt-2 fs-4"},O={class:"mb-1"},j={class:"ms-1"},G={type:"button",class:"btn btn-secondary btn-sm text-dark py-0 me-1"},H={key:0,class:"mt-5"},X={__name:"InspirationView",setup(J){const{showAlert:b}=E(),c=l(!1),r=l([]),g=l([]),u=l("顯示全部"),k="https://vue3-course-api.hexschool.io",w="vue-ben0588",x=l([{title:"顯示全部"},{title:"客廳"},{title:"臥室"},{title:"廚房"},{title:"書房"},{title:"浴室"}]),h=async(o=1)=>{try{c.value=!0;const n=`${k}/v2/api/${w}/articles?page=${o}`,d=await N.get(n);r.value=d.data.articles,g.value=d.data.pagination}catch(n){b({title:"失敗",text:`${n.response.data.message}`,icon:"error",confirmButtonText:"確認",confirmButtonColor:"#000000",allowEscapeKey:!1,allowOutsideClick:!1})}finally{c.value=!1}},C=o=>{u.value=o},$=V(()=>u.value==="顯示全部"?r.value:r.value.filter(o=>o.tag.find(n=>n===u.value)));return A(()=>{h()}),(o,n)=>{const d=F("router-link");return s(),a(p,null,[c.value?y("",!0):(s(),a("div",T,[U,e("div",q,[(s(!0),a(p,null,m(x.value,(t,_)=>(s(),a("span",{key:_,onClick:f=>C(t.title)},[e("button",{type:"button",class:S(["btn btn-outline-secondary text-dark fs-6 me-3",`${u.value===t.title&&"bg-secondary"}`])},i(t.title),3)],8,z))),128))]),e("div",I,[(s(!0),a(p,null,m($.value,t=>(s(),a("div",{class:"col mb-5",key:t.id},[e("div",null,[v(d,{to:`/inspiration/${t.id}`,class:"hover-opacity text-dark"},{default:D(()=>[e("img",{src:t.image,alt:t.title,class:"inspiration-card-img"},null,8,K),e("h3",M,i(t.title),1),e("div",O,[e("span",null,i(new Date(t.create_at*1e3).toLocaleString(void 0,{year:"numeric",month:"long",day:"numeric"})),1),e("span",j,"#"+i(t.author),1)])]),_:2},1032,["to"]),(s(!0),a(p,null,m(t.tag,(_,f)=>(s(),a("span",{key:f,class:"me-2"},[e("button",G,i(_),1)]))),128))])]))),128))]),r.value.length?(s(),a("div",H,[v(P,{pagination:g.value,"onUpdated:page":h},null,8,["pagination"])])):y("",!0)])),v(B(L),{active:c.value,"can-cancel":!1,color:"#0089A7"},null,8,["active"])],64)}}};export{X as default};
